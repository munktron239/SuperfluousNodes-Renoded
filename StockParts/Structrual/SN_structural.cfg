// gives the I-beams, truss segments, and octo strut nodes
// also gives the 2x2 plate nodes if KIS isn't installed
// also gives node options to the mk3 shuttle endplate

@PART[structuralIBeam1]:FOR[SuperfluousNodesRenoded]
{
	node_stack_connect01 = -0.27, 0.0, 0.0, -1, 0, 0, 0
	node_stack_connect02 = 0.27, 0.0, 0.0, 1, 0, 0, 0

	@tags ^= :$: ?superfluous:
	enableSuperfluousNodes = true
	%stackSymmetry = 1

	MODULE:NEEDS[B9PartSwitch]
	{
		name = ModuleB9PartSwitch
		moduleID = SNSideNodes
		switcherDescription = #LOC_SuperfluousNodes_nodeSelect
		SUBTYPE
		{
			name = No Nodes
			title = #LOC_SuperfluousNodes_noNodes
			descriptionSummary = #LOC_SuperfluousNodes_noNodesDesc
		}
		SUBTYPE
		{
			name = Side Nodes
			title = #LOC_SuperfluousNodes_sideNodes
			descriptionSummary = #LOC_SuperfluousNodes_sideNodesDesc
			node = connect01
			node = connect02
		}
	}
}

@PART[structuralIBeam2]:FOR[SuperfluousNodesRenoded]
{
	node_stack_connect01 = 0.12, 0.799137, 0.0, 1, 0, 0, 0
	node_stack_connect02 = 0.12, 0.0, 0.0, 1, 0, 0, 0

	node_stack_connect03 = 0.12, -0.799137, 0.0, 1, 0, 0, 0
	node_stack_connect04 = -0.12, 0.799137, 0.0, -1, 0, 0, 0

	node_stack_connect05 = -0.12, 0.0, 0.0, -1, 0, 0, 0
	node_stack_connect06 = -0.12, -0.799137, 0.0, -1, 0, 0, 0

	@tags ^= :$: ?superfluous:
	enableSuperfluousNodes = true
	%stackSymmetry = 1

	MODULE:NEEDS[B9PartSwitch]
	{
		name = ModuleB9PartSwitch
		moduleID = SNSideNodes
		switcherDescription = #LOC_SuperfluousNodes_nodeSelect
		SUBTYPE
		{
			name = No Nodes
			title = #LOC_SuperfluousNodes_noNodes
			descriptionSummary = #LOC_SuperfluousNodes_noNodesDesc
		}
		SUBTYPE
		{
			name = Center Nodes
			title = #LOC_SuperfluousNodes_centerNodes
			descriptionSummary = #LOC_SuperfluousNodes_centerNodesDesc
			node = connect02
			node = connect05
		}
		SUBTYPE
		{
			name = All Nodes
			title = #LOC_SuperfluousNodes_allNodes
			descriptionSummary = #LOC_SuperfluousNodes_allNodesDesc
			node = connect01
			node = connect02
			node = connect03
			node = connect04
			node = connect05
			node = connect06
		}
	}
}

@PART[structuralIBeam3]:FOR[SuperfluousNodesRenoded]
{
	node_stack_connect01 = 0.12, 0.4012328, 0.0, 1, 0, 0, 0
	node_stack_connect02 = 0.12, 0.0, 0.0, 1, 0, 0, 0

	node_stack_connect03 = 0.12, -0.4012328, 0.0, 1, 0, 0, 0
	node_stack_connect04 = -0.12, 0.4012328, 0.0, -1, 0, 0, 0

	node_stack_connect05 = -0.12, 0.0, 0.0, -1, 0, 0, 0
	node_stack_connect06 = -0.12, -0.4012328, 0.0, -1, 0, 0, 0

	@tags ^= :$: ?superfluous:
	enableSuperfluousNodes = true
	%stackSymmetry = 1

	MODULE:NEEDS[B9PartSwitch]
	{
		name = ModuleB9PartSwitch
		moduleID = SNSideNodes
		switcherDescription = #LOC_SuperfluousNodes_nodeSelect
		SUBTYPE
		{
			name = No Nodes
			title = #LOC_SuperfluousNodes_noNodes
			descriptionSummary = #LOC_SuperfluousNodes_noNodesDesc
		}
		SUBTYPE
		{
			name = Center Nodes
			title = #LOC_SuperfluousNodes_centerNodes
			descriptionSummary = #LOC_SuperfluousNodes_centerNodesDesc
			node = connect02
			node = connect05
		} 
		SUBTYPE
		{
			name = All Nodes
			title = #LOC_SuperfluousNodes_allNodes
			descriptionSummary = #LOC_SuperfluousNodes_allNodesDesc
			node = connect01
			node = connect02
			node = connect03
			node = connect04
			node = connect05
			node = connect06
		} 
	}
}

@PART[trussPiece1x]:FOR[SuperfluousNodesRenoded]
{
	node_stack_connect01 = 0.3, 0.0, 0.0, 1, 0, 0, 0
	node_stack_connect02 = 0.0, 0.0, 0.3, 0, 0, 1, 0
	node_stack_connect03 = -0.3, 0.0, 0.0, -1, 0, 0, 0
	node_stack_connect04 = 0.0, 0.0, -0.3, 0, 0, -1, 0

	@attachRules = 1,1,1,1,1
	@tags ^= :$: ?superfluous:
	enableSuperfluousNodes = true
	%stackSymmetry = 3

	MODULE:NEEDS[B9PartSwitch]
	{
		name = ModuleB9PartSwitch
		moduleID = SNSideNodes
		switcherDescription = #LOC_SuperfluousNodes_nodeSelect
		SUBTYPE
		{
			name = No Nodes
			title = #LOC_SuperfluousNodes_noNodes
			descriptionSummary = #LOC_SuperfluousNodes_noNodesDesc
		}
		SUBTYPE
		{
			name = All Nodes
			title = #LOC_SuperfluousNodes_allNodes
			descriptionSummary = #LOC_SuperfluousNodes_allNodesDesc
			node = connect01
			node = connect02
			node = connect03
			node = connect04
		}
	}
}

@PART[trussPiece3x]:FOR[SuperfluousNodesRenoded]
{
	node_stack_connect01 = 0.3, 0.0, 0.0, 1, 0, 0, 0
	node_stack_connect02 = 0.0, 0.0, 0.3, 0, 0, 1, 0
	node_stack_connect03 = -0.3, 0.0, 0.0, -1, 0, 0, 0
	node_stack_connect04 = 0.0, 0.0, -0.3, 0, 0, -1, 0

	node_stack_connect05 = 0.3, 0.912, 0.0, 1, 0, 0, 0
	node_stack_connect06 = 0.0, 0.912, 0.3, 0, 0, 1, 0
	node_stack_connect07 = -0.3, 0.912, 0.0, -1, 0, 0, 0
	node_stack_connect08 = 0.0, 0.912, -0.3, 0, 0, -1, 0

	node_stack_connect09 = 0.3, -0.912, 0.0, 1, 0, 0, 0
	node_stack_connect10 = 0.0, -0.912, 0.3, 0, 0, 1, 0
	node_stack_connect11 = -0.3, -0.912, 0.0, -1, 0, 0, 0
	node_stack_connect12 = 0.0, -0.912, -0.3, 0, 0, -1, 0

	@attachRules = 1,1,1,1,1
	@tags ^= :$: ?superfluous:
	enableSuperfluousNodes = true
	%stackSymmetry = 3

	MODULE:NEEDS[B9PartSwitch]
	{
		name = ModuleB9PartSwitch
		moduleID = SNSideNodes
		switcherDescription = #LOC_SuperfluousNodes_nodeSelect
		SUBTYPE
		{
			name = No Nodes
			title = #LOC_SuperfluousNodes_noNodes
			descriptionSummary = #LOC_SuperfluousNodes_noNodesDesc
		}
		SUBTYPE
		{
			name = Center Nodes
			title = #LOC_SuperfluousNodes_centerNodes
			descriptionSummary = #LOC_SuperfluousNodes_centerNodesDesc
			node = connect01
			node = connect02
			node = connect03
			node = connect04
		}
		SUBTYPE
		{
			name = All Nodes
			title = #LOC_SuperfluousNodes_allNodes
			descriptionSummary = #LOC_SuperfluousNodes_allNodesDesc
			node = connect01
			node = connect02
			node = connect03
			node = connect04
			node = connect05
			node = connect06
			node = connect07
			node = connect08
			node = connect09
			node = connect10
			node = connect11
			node = connect12
		}
	}
}

@PART[trussAdapter]:FOR[SuperfluousNodesRenoded]
{
	node_stack_connect01 = 0.31, 0.206, 0.0, 1, 0, 0, 0
	node_stack_connect02 = 0.0, 0.206, 0.31, 0, 0, 1, 0
	node_stack_connect03 = -0.31, 0.206, 0.0, -1, 0, 0, 0
	node_stack_connect04 = 0.0, 0.206, -0.31, 0, 0, -1, 0

	@attachRules = 1,0,1,1,1
	@tags ^= :$: ?superfluous:
	enableSuperfluousNodes = true
	%stackSymmetry = 3

	MODULE:NEEDS[B9PartSwitch]
	{
		name = ModuleB9PartSwitch
		moduleID = SNSideNodes
		switcherDescription = #LOC_SuperfluousNodes_nodeSelect
		SUBTYPE
		{
			name = No Nodes
			title = #LOC_SuperfluousNodes_noNodes
			descriptionSummary = #LOC_SuperfluousNodes_noNodesDesc
		}
		SUBTYPE
		{
			name = All Nodes
			title = #LOC_SuperfluousNodes_allNodes
			descriptionSummary = #LOC_SuperfluousNodes_allNodesDesc
			node = connect01
			node = connect02
			node = connect03
			node = connect04
		}
	}
}

// This octo strut has 8 glorious sides, and 8 stunning angles!
@PART[strutOcto]:FOR[SuperfluousNodesRenoded]
{
	node_stack_connect01 = 0.27, 0.0, 0.0, 1, 0, 0, 0
	node_stack_connect02 = 0.1909188, 0.0, 0.1909188, 1, 0, 1, 0
	node_stack_connect03 = 0.0, 0.0, 0.27, 0, 0, 1, 0
	node_stack_connect04 = -0.1909188, 0.0, 0.1909188, -1, 0, 1, 0

	node_stack_connect05 = -0.27, 0.0, 0.0, -1, 0, 0, 0
	node_stack_connect06 = -0.1909188, 0.0, -0.1909188, -1, 0, -1, 0
	node_stack_connect07 = 0.0, 0.0, -0.27, 0, 0, -1, 0
	node_stack_connect08 = 0.1909188, 0.0, -0.1909188, 1, 0, -1, 0

	@attachRules = 1,1,1,1,1
	@tags ^= :$: ?superfluous:
	enableSuperfluousNodes = true
	%stackSymmetry = 3

	MODULE:NEEDS[B9PartSwitch]
	{
		name = ModuleB9PartSwitch
		moduleID = SNSideNodes
		switcherDescription = #LOC_SuperfluousNodes_nodeSelect
		SUBTYPE
		{
			name = No Nodes
			title = #LOC_SuperfluousNodes_noNodes
			descriptionSummary = #LOC_SuperfluousNodes_noNodesDesc
		}
		SUBTYPE
		{
			name = Odd Nodes
			title = #LOC_SuperfluousNodes_oddNodes
			descriptionSummary = #LOC_SuperfluousNodes_oddNodesDesc
			node = connect01
			node = connect03
			node = connect05
			node = connect07
		}
		SUBTYPE
		{
			name = Even Nodes
			title = #LOC_SuperfluousNodes_evenNodes
			descriptionSummary = #LOC_SuperfluousNodes_evenNodesDesc
			node = connect02
			node = connect04
			node = connect06
			node = connect08
		}
		SUBTYPE
		{
			name = All Nodes
			title = #LOC_SuperfluousNodes_allNodes
			descriptionSummary = #LOC_SuperfluousNodes_allNodesDesc
			node = connect01
			node = connect02
			node = connect03
			node = connect04
			node = connect05
			node = connect06
			node = connect07
			node = connect08
		}
	}
}

// lets you remove some of the nodes so you can easily attach surface engines (like the vector)
@PART[adapterEngines]:FOR[SuperfluousNodesRenoded]
{
	@attachRules = 1,1,1,1,1
	@tags ^= :$: ?superfluous:
	enableSuperfluousNodes = true

	MODULE:NEEDS[B9PartSwitch]
	{
		name = ModuleB9PartSwitch
		moduleID = SNNodeSnip
		switcherDescription = #LOC_SuperfluousNodes_nodeSelect
		SUBTYPE
		{
			name = All Nodes
			title = #LOC_SuperfluousNodes_allNodes
			descriptionSummary = #LOC_SuperfluousNodes_allNodesDesc
			node = bottom01
			node = bottom02
			node = bottom03
			node = bottom04
		}
		SUBTYPE
		{
			name = Core Nodes Off
			title = #LOC_SuperfluousNodes_coreNodesOff
			descriptionSummary = #LOC_SuperfluousNodes_coreNodesOffDesc
		}
	}
}

//Patch numbers borrowed from KIS.
//If KIS is not installed, will add switchable nodes to stock structural panel.
//Does nothing if KIS is installed, as KIS already adds these nodes.
@PART[structuralPanel2]:NEEDS[B9PartSwitch&!KIS]:FOR[SuperfluousNodesRenoded]
{
	node_stack_topSW = -0.5, 0.0275, -0.5, 0, 1, 0, 0
	node_stack_topSE = 0.5, 0.0275, -0.5, 0, 1, 0, 0
	node_stack_topNW = -0.5, 0.0275, 0.5, 0, 1, 0, 0
	node_stack_topNE = 0.5, 0.0275, 0.5, 0, 1, 0, 0

	node_stack_bottomSW = -0.5, -0.0275, -0.5, 0, -1, 0, 0
	node_stack_bottomSE = 0.5, -0.0275, -0.5, 0, -1, 0, 0
	node_stack_bottomNW = -0.5, -0.0275, 0.5, 0, -1, 0, 0
	node_stack_bottomNE = 0.5, -0.0275, 0.5, 0, -1, 0, 0

	@tags ^= :$: ?superfluous:
	enableSuperfluousNodes = true

	MODULE:NEEDS[B9PartSwitch]
	{
		name = ModuleB9PartSwitch
		moduleID = SNKISNodes
		switcherDescription = #LOC_SuperfluousNodes_nodeSelect
		SUBTYPE
		{
			name = No Nodes
			title = #LOC_SuperfluousNodes_noNodes
			descriptionSummary = #LOC_SuperfluousNodes_noNodesDesc
		}
		SUBTYPE
		{
			name = KIS Nodes
			title = #LOC_SuperfluousNodes_kisNodes
			descriptionSummary = #LOC_SuperfluousNodes_kisNodesDesc
			node = topSW
			node = topSE
			node = topNW
			node = topNE
			node = bottomSW
			node = bottomSE
			node = bottomNW
			node = bottomNE
		}
	}
}
