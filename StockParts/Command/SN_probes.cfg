// gives nodes to probe cores with flat sides (OCTO, HECS, QBE, etc.)
// also gives a node to the Stayputnik to make it slightly less useless

// adds a top node, partially inspired by BetterEarlyTree
@PART[probeCoreSphere_v2]:FOR[SuperfluousNodesRenoded]
{
	%node_stack_top = 0.0, 0.625, 0.0, 0, 1, 0, 0
	@attachRules = 1,0,1,1,1
	@tags ^= :$: ?superfluous:
}

// adds many node options for RCS, science, etc
@PART[probeCoreOcto_v2]:FOR[SuperfluousNodesRenoded]
{
	node_stack_connect01 = 0.333, 0.0, 0.0, 1, 0, 0, 0
	node_stack_connect02 = 0.25, 0.0, 0.25, 1, 0, 1, 0
	node_stack_connect03 = 0.0, 0.0, 0.333, 0, 0, 1, 0
	node_stack_connect04 = -0.25, 0.0, 0.25, -1, 0, 1, 0

	node_stack_connect05 = -0.333, 0.0, 0.0, -1, 0, 0, 0
	node_stack_connect06 = -0.25, 0.0, -0.25, -1, 0, -1, 0
	node_stack_connect07 = 0.0, 0.0, -0.333, 0, 0, -1, 0
	node_stack_connect08 = 0.25, 0.0, -0.25, 1, 0, -1, 0

	@attachRules = 1,0,1,1,1
	@tags ^= :$: ?superfluous:
	%stackSymmetry = 3

	MODULE:NEEDS[B9PartSwitch]
	{
		name = ModuleB9PartSwitch
		moduleID = SNSideNodes
		switcherDescription = #LOC_SuperfluousNodes_nodeSelect
		SUBTYPE
		{
			name = No Nodes
			title = #LOC_SuperfluousNodes_noNodes
			descriptionSummary = #LOC_SuperfluousNodes_noNodesDesc
		}
		SUBTYPE
		{
			name = Odd Nodes
			title = #LOC_SuperfluousNodes_oddNodes
			descriptionSummary = #LOC_SuperfluousNodes_oddNodesDesc
			node = connect01
			node = connect03
			node = connect05
			node = connect07
		}
		SUBTYPE
		{
			name = Even Nodes
			title = #LOC_SuperfluousNodes_evenNodes
			descriptionSummary = #LOC_SuperfluousNodes_evenNodesDesc
			node = connect02
			node = connect04
			node = connect06
			node = connect08
		}
		SUBTYPE
		{
			name = All Nodes
			title = #LOC_SuperfluousNodes_allNodes
			descriptionSummary = #LOC_SuperfluousNodes_allNodesDesc
			node = connect01
			node = connect02
			node = connect03
			node = connect04
			node = connect05
			node = connect06
			node = connect07
			node = connect08
		}
	}
}

// same as above
@PART[probeCoreHex_v2]:FOR[SuperfluousNodesRenoded]
{
	node_stack_connect01 = 0.29, 0.0, 0.165, 1, 0, 0.6, 0
	node_stack_connect02 = 0.0, 0.0, 0.333, 0, 0, 1, 0
	node_stack_connect03 = -0.29, 0.0, 0.165, -1, 0, 0.6, 0

	node_stack_connect04 = -0.29, 0.0, -0.165, -1, 0, -0.6, 0
	node_stack_connect05 = 0.0, 0.0, -0.333, 0, 0, -1, 0
	node_stack_connect06 = 0.29, 0.0, -0.165, 1, 0, -0.6, 0

	@attachRules = 1,0,1,1,1
	@tags ^= :$: ?superfluous:
	%stackSymmetry = 1

	MODULE:NEEDS[B9PartSwitch]
	{
		name = ModuleB9PartSwitch
		moduleID = SNSideNodes
		switcherDescription = #LOC_SuperfluousNodes_nodeSelect
		SUBTYPE
		{
			name = No Nodes
			title = #LOC_SuperfluousNodes_noNodes
			descriptionSummary = #LOC_SuperfluousNodes_noNodesDesc
		}
		SUBTYPE
		{
			name = Side Nodes
			title = #LOC_SuperfluousNodes_sideNodes
			descriptionSummary = #LOC_SuperfluousNodes_sideNodesDesc
			node = connect02
			node = connect05
		}
		SUBTYPE
		{
			name = Even Nodes
			title = #LOC_SuperfluousNodes_evenNodes
			descriptionSummary = #LOC_SuperfluousNodes_evenNodesDesc
			node = connect01
			node = connect03
			node = connect04
			node = connect06
		}
		SUBTYPE
		{
			name = All Nodes
			title = #LOC_SuperfluousNodes_allNodes
			descriptionSummary = #LOC_SuperfluousNodes_allNodesDesc
			node = connect01
			node = connect02
			node = connect03
			node = connect04
			node = connect05
			node = connect06
		}
	}
}

// gives nodes to the deprecated HECS, if you wanted to use it for some reason
@PART[probeCoreHex]:FOR[SuperfluousNodesRenoded]
{
	node_stack_connect01 = 0.333, 0.0, 0.0, 1, 0, 0, 0
	node_stack_connect02 = 0.17, 0.0, 0.3, 0.6, 0, 1, 0
	node_stack_connect03 = -0.17, 0.0, 0.3, -0.6, 0, 1, 0

	node_stack_connect04 = -0.333, 0.0, 0.0, -1, 0, 0, 0
	node_stack_connect05 = -0.17, 0.0, -0.3, -0.6, 0, -1, 0
	node_stack_connect06 = 0.17, 0.0, -0.3, 0.6, 0, -1, 0

	@attachRules = 1,0,1,1,1
	@tags ^= :$: ?superfluous:
	%stackSymmetry = 1

	MODULE:NEEDS[B9PartSwitch]
	{
		name = ModuleB9PartSwitch
		moduleID = SNSideNodes
		switcherDescription = #LOC_SuperfluousNodes_nodeSelect
		SUBTYPE
		{
			name = No Nodes
			title = #LOC_SuperfluousNodes_noNodes
			descriptionSummary = #LOC_SuperfluousNodes_noNodesDesc
		}
		SUBTYPE
		{
			name = Side Nodes
			title = #LOC_SuperfluousNodes_sideNodes
			descriptionSummary = #LOC_SuperfluousNodes_sideNodesDesc
			node = connect01
			node = connect04
		}
		SUBTYPE
		{
			name = Even Nodes
			title = #LOC_SuperfluousNodes_evenNodes
			descriptionSummary = #LOC_SuperfluousNodes_evenNodesDesc
			node = connect02
			node = connect03
			node = connect05
			node = connect06
		}
		SUBTYPE
		{
			name = All Nodes
			title = #LOC_SuperfluousNodes_allNodes
			descriptionSummary = #LOC_SuperfluousNodes_allNodesDesc
			node = connect01
			node = connect02
			node = connect03
			node = connect04
			node = connect05
			node = connect06
		}
	}
}

// fun fact: this was originally one of the 4 parts from the Asteroid Day mod
@PART[HECS2_ProbeCore]:FOR[SuperfluousNodesRenoded]
{
	node_stack_connect01 = 0.6, 0.0, 0.36, 1, 0, 0.6, 0
	node_stack_connect02 = 0.0, 0.0, 0.7, 0, 0, 1, 0
	node_stack_connect03 = -0.6, 0.0, 0.36, -1, 0, 0.6, 0

	node_stack_connect04 = -0.6, 0.0, -0.36, -1, 0, -0.6, 0
	node_stack_connect05 = 0.0, 0.0, -0.7, 0, 0, -1, 0
	node_stack_connect06 = 0.6, 0.0, -0.36, 1, 0, -0.6, 0

	@attachRules = 1,0,1,1,1
	@tags ^= :$: ?superfluous:
	%stackSymmetry = 1

	MODULE:NEEDS[B9PartSwitch]
	{
		name = ModuleB9PartSwitch
		moduleID = SNSideNodes
		switcherDescription = #LOC_SuperfluousNodes_nodeSelect
		SUBTYPE
		{
			name = No Nodes
			title = #LOC_SuperfluousNodes_noNodes
			descriptionSummary = #LOC_SuperfluousNodes_noNodesDesc
		}
		SUBTYPE
		{
			name = Side Nodes
			title = #LOC_SuperfluousNodes_sideNodes
			descriptionSummary = #LOC_SuperfluousNodes_sideNodesDesc
			node = connect02
			node = connect05
		}
		SUBTYPE
		{
			name = Even Nodes
			title = #LOC_SuperfluousNodes_evenNodes
			descriptionSummary = #LOC_SuperfluousNodes_evenNodesDesc
			node = connect01
			node = connect03
			node = connect04
			node = connect06
		}
		SUBTYPE
		{
			name = All Nodes
			title = #LOC_SuperfluousNodes_allNodes
			descriptionSummary = #LOC_SuperfluousNodes_allNodesDesc
			node = connect01
			node = connect02
			node = connect03
			node = connect04
			node = connect05
			node = connect06
		}
	}
}

// side nodes, you get the drill
@PART[probeCoreCube]:FOR[SuperfluousNodesRenoded]
{
	node_stack_connect01 = 0.24, 0.0, 0.0, 1, 0, 0, 0
	node_stack_connect02 = -0.24, 0.0, 0.0, -1, 0, 0, 0
	node_stack_connect03 = 0.0, 0.0, 0.24, 0, 0, 1, 0
	node_stack_connect04 = 0.0, 0.0, -0.24, 0, 0, -1, 0

	@attachRules = 1,0,1,1,1
	@tags ^= :$: ?superfluous:
	%stackSymmetry = 1

	MODULE:NEEDS[B9PartSwitch]
	{
		name = ModuleB9PartSwitch
		moduleID = SNSideNodes
		switcherDescription = #LOC_SuperfluousNodes_nodeSelect
		SUBTYPE
		{
			name = No Nodes
			title = #LOC_SuperfluousNodes_noNodes
			descriptionSummary = #LOC_SuperfluousNodes_noNodesDesc
		}
		SUBTYPE
		{
			name = Side Nodes 1
			title = #LOC_SuperfluousNodes_sideNodes
			descriptionSummary = #LOC_SuperfluousNodes_sideNodesDesc
			node = connect01
			node = connect02
		}
		SUBTYPE
		{
			name = Side Nodes 2
			title = #LOC_SuperfluousNodes_sideNodesAlt
			descriptionSummary = #LOC_SuperfluousNodes_sideNodesAltDesc
			node = connect03
			node = connect04
		}
		SUBTYPE
		{
			name = All Nodes
			title = #LOC_SuperfluousNodes_allNodes
			descriptionSummary = #LOC_SuperfluousNodes_allNodesDesc
			node = connect01
			node = connect02
			node = connect03
			node = connect04
		}
	}
}

@PART[probeCoreCube]:NEEDS[!Restock]:FOR[SuperfluousNodesRenoded]
{
	@node_stack_connect01 = 0.215, 0.0, 0.0, 1, 0, 0, 0
	@node_stack_connect02 = -0.215, 0.0, 0.0, -1, 0, 0, 0
	@node_stack_connect03 = 0.0, 0.0, 0.215, 0, 0, 1, 0
	@node_stack_connect04 = 0.0, 0.0, -0.215, 0, 0, -1, 0
}

// while I'm here, might as well finish off the deprecated parts
@PART[roverBody]:FOR[SuperfluousNodesRenoded]
{
	node_stack_right = 0.510226, 0, 0, 1, 0, 0, 0
	node_stack_left = -0.510226, 0, 0, -1, 0, 0, 0
	node_stack_front = 0.0, 0.0, 0.746285, 0, 0, 1, 0
	node_stack_back = 0.0, 0.0, -0.746285, 0, 0, -1, 0

	@attachRules = 1,0,1,1,1
	@tags ^= :$: ?superfluous:
}