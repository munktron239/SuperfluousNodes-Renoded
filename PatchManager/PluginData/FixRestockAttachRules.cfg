// for some reason, Restock just... completely change the attach rules of all the engines???????
// anyways, this patch changes them back to their original rules

// most engines have 1,0,1,0,1 - which lets them stack and connect to other parts, but not srf attach or let parts srf attach to them

// stock engines

@PART[liquidEngine_v2|liquidEngine2_v2|liquidEngine3_v2]:LAST[SuperfluousNodes]
{
	!node_attach = DELETE
	@attachRules = 1,0,1,0,1
	@bulkheadProfiles = size1
	enableSuperfluousNodes = true
}
@PART[microEngine_v2]:LAST[SuperfluousNodes]
{
//	!node_attach = 
	@attachRules = 1,1,1,1,1
	@bulkheadProfiles = size0
	enableSuperfluousNodes = true
}
@PART[liquidEngineMini_v2]:LAST[SuperfluousNodes]
{
	!node_attach = DELETE
	@attachRules = 1,0,1,0,1
	@bulkheadProfiles = size0
	enableSuperfluousNodes = true
}
@PART[liquidEngine2-2_v2]:LAST[SuperfluousNodes]
{
	!node_attach = DELETE
	@attachRules = 1,0,1,0,1
	@bulkheadProfiles = size2
	enableSuperfluousNodes = true
}
@PART[engineLargeSkipper_v2]:LAST[SuperfluousNodes]
{
	!node_attach = DELETE
	@attachRules = 1,0,1,0,1
	@bulkheadProfiles = size2, size1
	enableSuperfluousNodes = true
}
@PART[liquidEngineMainsail_v2]:LAST[SuperfluousNodes]
{
	!node_attach = DELETE
	@attachRules = 1,0,1,0,1
	@bulkheadProfiles = size2, size1p5
	enableSuperfluousNodes = true
}
// these next 2 engines can stay srf attach (useful for spaceplanes)
@PART[toroidalAerospike]:LAST[SuperfluousNodes]
{
//	!node_attach = 
	@attachRules = 1,1,1,0,1
	@bulkheadProfiles = size1
	enableSuperfluousNodes = true
}
@PART[SSME]:LAST[SuperfluousNodes]
{
//	!node_attach = 
	@attachRules = 1,1,1,1,1
	@bulkheadProfiles = size1
	enableSuperfluousNodes = true
}
@PART[Size2LFB_v2]:LAST[SuperfluousNodes]
{
//	!node_attach = 
	@attachRules = 1,1,1,1,1
	@bulkheadProfiles = size2, srf
	enableSuperfluousNodes = true
}
@PART[Size3AdvancedEngine]:LAST[SuperfluousNodes]
{
	!node_attach = DELETE
	@attachRules = 1,0,1,0,1
	@bulkheadProfiles = size3
	enableSuperfluousNodes = true
}
@PART[Size3EngineCluster]:LAST[SuperfluousNodes]
{
//	!node_attach = 
	@attachRules = 1,0,1,1,1
	@bulkheadProfiles = size3
	enableSuperfluousNodes = true
}

// dlc engines
// for some forsaken reason, all these engines are srf attach! WHY SQUAD??????

@PART[LiquidEngineRK-7]:NEEDS[SquadExpansion/MakingHistory]:LAST[SuperfluousNodes]
{
	!node_attach = DELETE
	@attachRules = 1,0,1,1,1
	@bulkheadProfiles = size1p5, size1
	enableSuperfluousNodes = true
}
@PART[LiquidEngineLV-T91]:NEEDS[SquadExpansion/MakingHistory]:LAST[SuperfluousNodes]
{
	!node_attach = DELETE
	@attachRules = 1,0,1,1,1
	@bulkheadProfiles = size1p5, size1
	enableSuperfluousNodes = true
}
@PART[LiquidEngineLV-TX87]:NEEDS[SquadExpansion/MakingHistory]:LAST[SuperfluousNodes]
{
	!node_attach = DELETE
	@attachRules = 1,0,1,1,1
	@bulkheadProfiles = size1p5
	enableSuperfluousNodes = true
}
@PART[LiquidEngineRE-J10]:NEEDS[SquadExpansion/MakingHistory]:LAST[SuperfluousNodes]
{
//	!node_attach = 
	@attachRules = 1,0,1,1,1
	@bulkheadProfiles = size2, size1p5
	enableSuperfluousNodes = true
}
@PART[LiquidEngineRE-I2]:NEEDS[SquadExpansion/MakingHistory]:LAST[SuperfluousNodes]
{
	!node_attach = DELETE
	@attachRules = 1,0,1,0,1
	@bulkheadProfiles = size2, size1p5, size1
	enableSuperfluousNodes = true
}
@PART[LiquidEngineKE-1]:NEEDS[SquadExpansion/MakingHistory]:LAST[SuperfluousNodes]
{
	!node_attach = DELETE
	@attachRules = 1,0,1,1,1
	@bulkheadProfiles = size2, size1p5
	enableSuperfluousNodes = true
}
