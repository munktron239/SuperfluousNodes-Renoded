// gives the radial lfo/rcs/xenon/ore tanks nodes
// also gives the drain valve a node

// 2 positions, if you have restock and want to use the 'truss' variant
@PART[externalTankRound]:FOR[SuperfluousNodesRenoded]
{
	node_stack_connect01 = 0.3, 0.0, 0.0, 1, 0, 0, 0
	node_stack_connect02 = 0.55, 0.0, 0.0, 1, 0, 0, 0

	@attachRules = 1,1,0,1,1
	@tags ^= :$: ?superfluous:

	MODULE:NEEDS[B9PartSwitch]
	{
		name = ModuleB9PartSwitch
		moduleID = SNTankConnectPos
		switcherDescription = #LOC_SuperfluousNodes_nodeSelect
		SUBTYPE
		{
			name = Pos. 1
			title = #LOC_SuperfluousNodes_nodePos1
			descriptionSummary = #LOC_SuperfluousNodes_nodePos1Desc
			node = connect01
		}
		SUBTYPE
		{
			name = Pos. 2
			title = #LOC_SuperfluousNodes_nodePos2
			descriptionSummary = #LOC_SuperfluousNodes_nodePos2Desc
			node = connect02
		}
	}
}

@PART[externalTankCapsule]:FOR[SuperfluousNodesRenoded]
{
	node_stack_connect01 = 0.3, 0.0, 0.0, 1, 0, 0, 0
	node_stack_connect02 = 0.55, 0.0, 0.0, 1, 0, 0, 0

	@attachRules = 1,1,0,1,1
	@tags ^= :$: ?superfluous:

	MODULE:NEEDS[B9PartSwitch]
	{
		name = ModuleB9PartSwitch
		moduleID = SNTankConnectPos
		switcherDescription = #LOC_SuperfluousNodes_nodeSelect
		SUBTYPE
		{
			name = Pos. 1
			title = #LOC_SuperfluousNodes_nodePos1
			descriptionSummary = #LOC_SuperfluousNodes_nodePos1Desc
			node = connect01
		}
		SUBTYPE
		{
			name = Pos. 2
			title = #LOC_SuperfluousNodes_nodePos2
			descriptionSummary = #LOC_SuperfluousNodes_nodePos2Desc
			node = connect02
		}
	}
}

@PART[radialRCSTank]:FOR[SuperfluousNodesRenoded]
{
	node_stack_top = 0.0, 0.0, 0.525, 0, 0, 1, 0
	@attachRules = 1,1,0,1,1
	@tags ^= :$: ?superfluous:
}

@PART[radialRCSTank]:NEEDS[!Restock]:FOR[SuperfluousNodesRenoded]
{
	@node_stack_top = 0.0, 0.0, 0.45, 0, 0, 1, 0
}

@PART[rcsTankRadialLong]:FOR[SuperfluousNodesRenoded]
{
	node_stack_top = 0.0, 0.0, -0.025, 0, 0, 1, 0
	@attachRules = 1,1,0,1,1
	@tags ^= :$: ?superfluous:
}

@PART[rcsTankRadialLong]:NEEDS[!Restock]:FOR[SuperfluousNodesRenoded]
{
	@node_stack_top = 0.0, 0.0, -0.1, 0, 0, 1, 0
}

@PART[xenonTankRadial]:FOR[SuperfluousNodesRenoded]
{
	node_stack_top = 0.0, 0.0, -0.1, 0, 0, 1, 0
	@attachRules = 1,1,0,1,1
	@tags ^= :$: ?superfluous:
}

@PART[xenonTankRadial]:NEEDS[!Restock]:FOR[SuperfluousNodesRenoded]
{
	@node_stack_top = 0.0, 0.0, -0.05, 0, 0, 1, 0
}

@PART[RadialOreTank]:FOR[SuperfluousNodesRenoded]
{
	node_stack_top = 0.0, 0.0, 0.0, 0, 0, -1, 0
	@attachRules = 1,1,0,1,1
	@tags ^= :$: ?superfluous:
}

@PART[ReleaseValve]:FOR[SuperfluousNodesRenoded]
{
	node_stack_top = 0.0, 0.0, 0.03125, 0, 0, 1, 0
	@attachRules = 1,1,0,0,1
	@tags ^= :$: ?superfluous:
}

@PART[monopropMiniSphere]:NEEDS[SquadExpansion/MakingHistory]:FOR[SuperfluousNodesRenoded]
{
	node_stack_top = 0.25, 0.0, 0.0, 1, 0, 0, 0
	@attachRules = 1,1,0,1,1
	@tags ^= :$: ?superfluous:
}

@PART[monopropMiniSphere]:NEEDS[SquadExpansion/MakingHistory,!Restock]:FOR[SuperfluousNodesRenoded]
{
	@node_stack_top = 0.1875, 0.0, 0.0, 1, 0, 0, 0
}
